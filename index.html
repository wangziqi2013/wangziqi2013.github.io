---
layout: default
---

<script language="javascript">
function setContributionError(err_str) {
  return;
}

function getAjax(url, success) {
    var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
    
    xhr.open('GET', url, true);
    xhr.responseType = "document";
    xhr.onreadystatechange = function() {
      if(xhr.readyState > 3) {
        if(xhr.status != 200) {
          setContributionError("HTTP failed - Please check browser console for CORS hints");
        } else {
          success(xhr.responseXML);
        }
      }

      return;
    };
    
    xhr.send();
    
    return xhr;
}

xhr = getAjax("https://crossorigin.me/https://github.com/wangziqi2013",
              function(text) {
                var contri_div = text.getElementsByClassName("js-contribution-graph");
                if(contri_div.length != 1) {
                  setContributionError("Could not find contribution graph <div>");
                  return;
                }
                
                var target_div = document.getElementById("contributions");
                if(target_div == null) {
                  setContributionError("Could not find target contribution <div>");
                  return;
                }

                alert(contri_div[0].innerHTML);
                target_div.innerHTML = contri_div[0].innerHTML;
                
                return;
              }
      );
</script>

<div id="filter_div" align="left">
  Filter Keyword
  <input type="text" id="input_filter">
  <button type="button" onClick="filter_post('category', getElementById('input_filter').value.toLowerCase())">Category</button>
  <button type="button" onClick="filter_post('title', getElementById('input_filter').value.toLowerCase())">Title</button>
  <button type="button" onClick="filter_post('keyword', getElementById('input_filter').value.toLowerCase())">Keyword</button>
  {% for my_page in site.pages %}
    {% if my_page.title == "About" %}
      <a class="page-link" href="{{ my_page.url | prepend: site.baseurl | append: '#search_help' }}">Search Help</a>
    {% endif %}
  {% endfor %}
  <br /><br />
</div>

<hr /><br />

<div class="home">
  <h1 class="page-heading">Top Posts</h1>

  <ul class="post-list">
    {% for post in site.posts %}
      {% if post.ontop == true %}
        <li class="post_item" data-category="{{ post.categories }}" data-title="{{ post.title }}" data-keyword="{{ post.paper_keyword }}">
          <span class="post-meta">
            <strong>[Top]</strong>
            {% if post.layout == "paper-summary" %}
              <strong>[Paper Review]</strong>
            {% endif %}
            {{ post.date | date: "%b %-d, %Y" }}
            {% if post.paper_year %}
              , Paper published in {{ post.paper_year }}
            {% endif %}
          </span>

          <h2 style="display: inline">
            <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
          </h2>
          
          {% if post.layout == "paper-summary" %}
            <strong>Keyword: </strong> {{ post.paper_keyword }}
          {% endif %}
        </li>
      {% endif %}
    {% endfor %}
    <hr />
    <br />
    <h1 class="page-heading">Posts</h1>
    {% for post in site.posts %}
      {% if post.ontop != true %}
        <li class="post_item" data-category="{{ post.categories }}" data-title="{{ post.title }}" data-keyword="{{ post.paper_keyword }}">
          <span class="post-meta">
            {% if post.layout == "paper-summary" %}
              <strong>[Paper Review]</strong>
            {% endif %}
            {{ post.date | date: "%b %-d, %Y" }}
            {% if post.paper_year %}
              , Paper published in {{ post.paper_year }}
            {% endif %}
          </span>

          <h2 style="display: inline">
            <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
          </h2>
          
          {% if post.layout == "paper-summary" %}
            <strong>Keyword: </strong> {{ post.paper_keyword }}
          {% endif %}
        </li>
      {% endif %}
    {% endfor %}
  </ul>

  <hr />
  <div id="contributions">
    
  </div>
  <hr />
  <p class="rss-subscribe">subscribe <a href="{{ "/feed.xml" | prepend: site.baseurl }}">via RSS</a></p>
  <p class="rss-subscribe">Switch to <a href="{{ "/index-small.html" | prepend: site.baseurl }}">Small</a></p>

</div>
