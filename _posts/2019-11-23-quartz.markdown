---
layout: paper-summary
title:  "Quartz: A Lightweight Performance Emulator for Persistent Memory Software"
date:   2019-11-23 13:43:00 -0500
categories: paper
paper_title: "Quartz: A Lightweight Performance Emulator for Persistent Memory Software"
paper_link: https://dl.acm.org/citation.cfm?id=2814806
paper_keyword: NVM; Simulator
paper_year: Middleware 2015
rw_set:
htm_cd:
htm_cr:
version_mgmt:
---

This paper presents Quartz, a non-volatile memory simulator built on top of certain advanced hardware features. At the time
of writing this paper, commercial product of NVM hardware is not yet available on the market. As a result, NVM researchers 
have to use simulators to evaluate their research. Although it is generally believed that NVM has similar performance 
characteristics as DRAM except for lower bandwidth and higher latency, this paper identifies several problems with existing 
NVM simulatoirs that can make them infeasible to use. The first problem is simulation speed. If we emulate the internals 
of NVM hardware (which is also unknown), the slowdown can be quite significant, which prevents researchers from running
large scale experiments. The second problem is accuracy. If simulators are to be made fast, then very likely the they
only simulate a subset of all desired characteristics, such as latency-only or bandwidth-only, which may alter application
behavior and lead to wrong conclusions. 

Compared with previously proposed simulators, Quartz simulates both latency and bandwidth at almost-native speed. On one 
hand, Quartz achieves high simulation throughput by running the application directly on hardware with no virtualization 
layer, and only intervening the execution at certain time points such as thread synchronization. On the other hand,
lack of program monitoring does not lead to worse accuracy, since Quartz relies on advanced hardware features, such as thermal
control on DRAM controller, to upper bound memory bandwidth to a lower value for simulating slower NVM device.

Quartz assumes that 