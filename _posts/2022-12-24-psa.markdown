---
layout: paper-summary
title:  "Page Size Aware Cache Prefetching"
date:   2022-12-24 23:48:00 -0500
categories: paper
paper_title: "Page Size Aware Cache Prefetching"
paper_link: https://ieeexplore.ieee.org/document/9923823/
paper_keyword: Prefetching; Set Dueling; Huge Page
paper_year: MICRO 2022
rw_set:
htm_cd:
htm_cr:
version_mgmt:
---

This paper proposes Page Size Propagation Module (PPM), an extension to the existing spatial cache prefetchers that
enables prefetching on 2MB huge pages. The paper was motivated by the fact that 2MB huge pages are prevalent in 
most workloads, but the existing spatial prefetchers cannot prefetch across the regular 4KB page boundary.
The paper addresses this problem by allowing page size information to be passed by the MMU to the prefetcher in the 
low-level cache's prefetchers, such that the prefetcher can dynamically decide whether or not to prefetch across
4KB page boundaries. 

This paper focuses on improving spatial prefetchers, one of the two types of prefetchers that predict future
addresses for memory accesses based on past spatial access patterns (e.g., deltas). Compared with temporal 
prefetchers, which record histories 
of past cache misses and replay the accesses to fulfill the misses in the hope that future accesses will reproduce
the past pattern, spatial prefetchers have three apparent advantages.
First, spatial prefetchers require much less metadata, as it only maintains metadata for describing the pattern.
Temporal prefetchers, on the contrary, need to keep track of access traces in order to reproduce them.
Second, spatial prefetchers can prevent compulsory misses, since the predicted addresses do not have to occur 
in the previous execution history. By contrast, temporal prefetchers need to see the trace at least once in order to
reproduce them later, hence suffering compulsory misses when the address is accessed for the first time.
Lastly, spatial prefetchers also have better row buffer locality as the prefetching request is spatially 
close to the recent addresses being accessed. Temporal prefetchers, on the other hand, do not have such guarantees,
and therefore it exhibits lower row buffer hit rate, resulting in higher latency and energy consumption.
