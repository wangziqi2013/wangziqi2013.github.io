---
layout: paper-summary
title:  "A Many-Core Oriented Compressed Cache"
date:   2020-06-28 04:46:00 -0500
categories: paper
paper_title: "A Many-Core Oriented Compressed Cache"
paper_link: https://dl.acm.org/doi/10.1145/2830772.2830828
paper_keyword: Cache; Compression; Log-structured Cache
paper_year: MICRO 2015
rw_set:
htm_cd:
htm_cr:
version_mgmt:
---

This paper proposes MORC, a novel log-structured last-level cache (LLC) design optimized for high throughput but longer
access latency. The paper identifies that on modern multicore architectures, the performance of a single core is less
important than the overall system throughput. As in previous works, MORC takes advantage of cache compression to increase
overall system throughput by providing a larger effective cache, allowing more accesses to be fulfilled by the LLC,
rather than the more power-hungey and lower latency DRAM.
The paper then proceeds to identify three critical problems that are common with existing cache compression schemes.
First, most existing algorithms have very limited compression ratio, ranging between 2:1 and 8:1. The compression ratio
depends not only on the effectiveness of the algorithm itself, but also on the over-priovisioned tags. In practice, it is 
difficult to achieve maximum compression ratio due to the size of the block and/or the number of over-privisioned tags.
Second, most compression schemes adopt the segmented cache approach, in which data slots within a set are unified into 
a whole chunk, which is then divided into fixed size segments. Each segment can only be mapped by one tag and store 
part of all of its compressed data. If the size of the compressed block is not a multiple of segment size, the last segment
cannot be fully utilized, due to internal fragmentation. 
Lastly, to reduce circult complexity, most compressed cache designs only allocate segments using minimum algorithm, such
as random or FIFO. In addition, there are often other constraints on the placement of segments, e.g. all segments mapped
by a tag must store compressed data in ascending order. These constriants will prevent a free segment from being used,
called external fragmentation, which can only be resolved by compaction. The paper claims that cache compaction operation 
incurs major overhead for circuit area and power consumption, which is not advised.
Both internal and external fragmentation reduce effective cache size, but can be allievated by reducing the granularity 
of tracking at the cost of more on-chip metadata.

MORC avoids all above three problems using log-structured approach to organize compressed cache lines. 
First, by compressing multiple cache lines together (512KB as suggested in the paper), dictionary information can be 
better utilized to encode duplicated entries. An average of 24x and a maximum of 64x compression ratio are reported by 
the paper. Second, a compressed log is stored compactly, with blocks within the log aligned to byte boundaries, reducing
internal fragmentation to a minimum.
Lastly, no entries in the log will be overwritten by a line fill response or write back request. Entries of individual
blocks are always appended to the end of the log, eliminating the need of compaction. 
Furthermore, MORC allocates tag storage at the end of the log. Tags are also compressed to reduce the number of physical
over-provisioning storage for storing tags of compressed blocks.

We next describe the overall organization as follows.
